# ğŸ”’ MegaQuagga Penetration Test  

## ğŸ“Œ Overview  

This project involved **penetration testing and firewall analysis** for **MegaQuagga Publishing**, a company seeking to assess its **web server security posture**. The engagement focused on **identifying vulnerabilities**, testing **firewall rule effectiveness**, and **validating security controls** through controlled exploitation techniques. Using **Metasploit, WPScan, and Nmap**, I discovered **potential attack vectors**, configured **firewall rules**, and assessed **WordPress security flaws**. The findings were compiled into a **risk assessment report**, providing actionable remediation strategies.  

> **Engagement Scope from MegaQuagga Publishing:**  
> *"Weâ€™re concerned about the web server you identified in your vulnerability assessment. Please assess whether the vulnerabilities can be exploited, simulate real-world attack scenarios, and provide recommendations to mitigate risks while respecting all ethical and legal guidelines."*  


---

## ğŸ› ï¸ Key Skills Demonstrated  

| **Category**               | **Tools & Techniques**         | **SOC Relevance**                 |
|---------------------------|--------------------------------|----------------------------------|
| **Network Defense**       | pfSense Rule Configuration     | Firewall Policy Management      |
| **Vulnerability Analysis** | WPScan, Nmap, Metasploit      | Threat Validation & Exploitation |
| **Incident Response**      | Log Analysis, SIEM Alerts     | Real-time Threat Detection      |

---

## ğŸš€ Walkthrough  

### **1ï¸âƒ£ ICMP Traffic Blocking**  

#### **Scenario**  
- Initial ping attempts showed **100% packet loss** despite HTTP accessibility.  
- Firewall policy analysis revealed **ICMP protocol blocking** by default.

#### **Analysis**  
```bash
ping www.megaquagga.local
# Expected: Successful ICMP replies
# Actual: 100% packet loss

# Hypothesis: WAN firewall rules blocking ICMP traffic
```

---

### **2ï¸âƒ£ Firewall Rule Configuration**  

#### **ğŸ”§ Tools Used**  
- **pfSense Web Interface** â€“ Rule Configuration  
- **Linux Terminal** â€“ Network Diagnostics  

#### **ğŸ“Œ Rule Criteria**  
```markdown
- Protocol: ICMP  
- Source: 192.168.100.2 (Web Server)  
- Destination: 192.168.100.20 (Red Team Workstation)  
- Action: Allow  
```

#### **ğŸ“Š Before vs After**  

| **Metric**          | **Pre-Solution** | **Post-Solution** |
|----------------------|-----------------|------------------|
| ICMP Success Rate    | 0%               | 100%             |
| HTTP Accessibility  | Unaffected       | Unaffected       |
| Attack Surface Reduction | High | Controlled Exposure |

---

### **3ï¸âƒ£ Metasploit Framework Setup**  

#### **Why This Matters for SOC Analysts**  
- **Enables vulnerability validation** and **exploit simulation** for **proactive defense testing**.  
- **Demonstrates the importance of CVE awareness** in SOC operations.  

#### **Implementation**  
```bash
sudo msfconsole
workspace -a quagga_0x2A
db_nmap -A 192.168.100.2
```

---

## ğŸ” Technical Artifacts  

```plaintext
MegaQuagga-Pentest/
â”œâ”€â”€ firewall-configs/
â”‚   â”œâ”€â”€ wan-rules.xml          # Exported Firewall Rules  
â”‚   â””â”€â”€ ping-test-results.txt  # Before/After Ping Results  
â”œâ”€â”€ metasploit/
â”‚   â”œâ”€â”€ exploits-used.txt      # Documented Exploit Modules  
â”‚   â””â”€â”€ vulnerability-scan.txt # WPScan & Nmap Logs  
â””â”€â”€ reports/
    â””â”€â”€ wpscan_vuln_report.pdf  # Final Assessment Report  
```

---

## ğŸŒŸ Lessons Learned  

### ğŸ” **Defense Strategy**  
- **Layered firewall configurations** must be **precisely controlled** to allow necessary functionality while **minimizing exposure**.

### ğŸ’¡ **Attacker Perspective**  
- **Outdated WordPress plugins** provided **low-effort attack vectors**, highlighting the importance of **continuous patching**.

### ğŸ“œ **Compliance Alignment**  
- **OWASP Top 10** and **NIST SP 800-115** guidelines were followed to **ensure security best practices**.

---

## ğŸ¯ SOC Role Preparation  

âœ… **Incident Response**: Diagnosed and mitigated firewall misconfigurations, replicating real-world SOC scenarios.  
âœ… **Tool Proficiency**: Hands-on experience with **pfSense**, **Metasploit**, **Nmap**, and **Wireshark**.  
âœ… **Documentation**: Created an **audit-ready risk justification report** for security policy changes.  
âœ… **Risk Balance**: **Allowed controlled testing access** while ensuring the integrity of security postures.  

---

## ğŸ”— Related Projects  

1. [Network Segmentation Analysis](#)  
2. [WordPress Hardening Guide](#)  
3. [Incident Response Playbook Development](#)  

---

## â¬‡ï¸ **Clone Repository**  

```bash
git clone https://github.com/yourusername/megaquagga-pentest.git
```

---
