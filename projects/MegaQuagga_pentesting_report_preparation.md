# 🔒 MegaQuagga Penetration Test  
### *Securing Publishing Infrastructure Through Ethical Hacking*  

---

## 📌 Overview  

| **Client**              | **Key Objectives**                                |
|------------------------|------------------------------------------------|
| MegaQuagga Publishing | - Identify web server vulnerabilities            |
|                        | - Validate firewall configuration effectiveness  |

| **Deliverables**            | **Tools & Technologies**     |
|----------------------------|------------------------------|
| Firewall Rule Analysis Report | pfSense, ICMP Protocol   |
| WordPress Vulnerability Assessment | WPScan, Metasploit  |

---

## 🛠️ Key Skills Demonstrated  

| **Category**               | **Tools & Techniques**         | **SOC Relevance**                 |
|---------------------------|--------------------------------|----------------------------------|
| **Network Defense**       | pfSense Rule Configuration     | Firewall Policy Management      |
| **Vulnerability Analysis** | WPScan, Nmap, Metasploit      | Threat Validation & Exploitation |
| **Incident Response**      | Log Analysis, SIEM Alerts     | Real-time Threat Detection      |

---

## 🚀 Walkthrough  

### **1️⃣ ICMP Traffic Blocking**  

#### **Scenario**  
- Initial ping attempts showed **100% packet loss** despite HTTP accessibility.  
- Firewall policy analysis revealed **ICMP protocol blocking** by default.

#### **Analysis**  
```bash
ping www.megaquagga.local
# Expected: Successful ICMP replies
# Actual: 100% packet loss

# Hypothesis: WAN firewall rules blocking ICMP traffic
```

---

### **2️⃣ Firewall Rule Configuration**  

#### **🔧 Tools Used**  
- **pfSense Web Interface** – Rule Configuration  
- **Linux Terminal** – Network Diagnostics  

#### **📌 Rule Criteria**  
```markdown
- Protocol: ICMP  
- Source: 192.168.100.2 (Web Server)  
- Destination: 192.168.100.20 (Red Team Workstation)  
- Action: Allow  
```

#### **📊 Before vs After**  

| **Metric**          | **Pre-Solution** | **Post-Solution** |
|----------------------|-----------------|------------------|
| ICMP Success Rate    | 0%               | 100%             |
| HTTP Accessibility  | Unaffected       | Unaffected       |
| Attack Surface Reduction | High | Controlled Exposure |

---

### **3️⃣ Metasploit Framework Setup**  

#### **Why This Matters for SOC Analysts**  
- **Enables vulnerability validation** and **exploit simulation** for **proactive defense testing**.  
- **Demonstrates the importance of CVE awareness** in SOC operations.  

#### **Implementation**  
```bash
sudo msfconsole
workspace -a quagga_0x2A
db_nmap -A 192.168.100.2
```

---

## 🔍 Technical Artifacts  

```plaintext
MegaQuagga-Pentest/
├── firewall-configs/
│   ├── wan-rules.xml          # Exported Firewall Rules  
│   └── ping-test-results.txt  # Before/After Ping Results  
├── metasploit/
│   ├── exploits-used.txt      # Documented Exploit Modules  
│   └── vulnerability-scan.txt # WPScan & Nmap Logs  
└── reports/
    └── wpscan_vuln_report.pdf  # Final Assessment Report  
```

---

## 🌟 Lessons Learned  

### 🔐 **Defense Strategy**  
- **Layered firewall configurations** must be **precisely controlled** to allow necessary functionality while **minimizing exposure**.

### 💡 **Attacker Perspective**  
- **Outdated WordPress plugins** provided **low-effort attack vectors**, highlighting the importance of **continuous patching**.

### 📜 **Compliance Alignment**  
- **OWASP Top 10** and **NIST SP 800-115** guidelines were followed to **ensure security best practices**.

---

## 🎯 SOC Role Preparation  

✅ **Incident Response**: Diagnosed and mitigated firewall misconfigurations, replicating real-world SOC scenarios.  
✅ **Tool Proficiency**: Hands-on experience with **pfSense**, **Metasploit**, **Nmap**, and **Wireshark**.  
✅ **Documentation**: Created an **audit-ready risk justification report** for security policy changes.  
✅ **Risk Balance**: **Allowed controlled testing access** while ensuring the integrity of security postures.  

---

## 🔗 Related Projects  

1. [Network Segmentation Analysis](#)  
2. [WordPress Hardening Guide](#)  
3. [Incident Response Playbook Development](#)  

---

## ⬇️ **Clone Repository**  

```bash
git clone https://github.com/yourusername/megaquagga-pentest.git
```

---
